### Flask
* You'll find a set of import statements. These give our code access to third party libraries, as well as the large library of capabilities that comes with Python. In this case, you can see we're importing Flask. After that, you can see we have a variable called app, that's being set to the result of the Flask constructor. We're passing in underscore a name, which means this particular app will take its name from the name of the script. If you like, you can change this to some hard coded string value, I'm going to leave mine alone. Next, we have this funny looking line that starts with an @ symbol. This indicates a decorator in Python, just like it does in many other languages. A decorator is a way of giving special capabilities to our functions. In this case, this line is defining the route for our endpoint. Remember, an endpoint is just a URL. In this case, we're responding to the site root. In your traditional HTML website, the root would be whatever is in index.html, it's the default content for the site. Here, it contains our Hello World function. So the decorator decorates the function and the function just returned the text Hello World. Below that is a very traditional underscore name test. If you've worked with Python for scripting, you've seen this before. All it does is serve as an entry point when you run the script, which we'll be looking at doing in the next video. But let's not get ahead of ourselves. Let's use our newfound knowledge of routing to create a new endpoint. I'm just going to click here on line nine. And I'm going to press Enter twice. If you're new to Python, let me tell you spacing is very important. There are no curly braces like in most C based languages. PyCharm has a built in linter that will warn you if you make any formatting mistakes, both to save you from syntax errors and also to help you write proper Python code. One of the rules PyCharm tries to enforce is that there should be two empty lines between any two functions. Now that I've got my two empty lines, let's go ahead and create our route, which for now I'm going to call super simple. So I'll add the @ sign @app.route. And then in the parenthesis as a string argument, I'm going to type in super_simple. Next, I need to go ahead and create the function for this. So on the next line, I'll type in def, and I'll call it super_simple again. And I'll do the exact same thing that we're doing up above in the Hello World example. I'll return some text. In this case, I'll say 'Hello from the Planetary API.' I can see down on line 15 I've got a yellow squiggly let me hover over it. And it's going to tell me that it expects two blank lines after the function definition and it only found one. So let's add one more, and it should go away. Perfect. Generally, PyCharm saves your work automatically. But I'm in the habit of pressing Control + S from time to time and there we go. As promised, you created a new route in your API in just a few minutes.
* Flask, like many web development frameworks comes with its own built-in development web server. You definitely don't want to use this in production though, because it can be very brittle. But it's very convenient for development work. There are two ways to run your project. The first is to run it from the Terminal. If you open the Terminal window in PyCharm, you'll see the default shell for your operating system. On the Mac it's Bash, and on the PC it's usually PowerShell. The commands are the same in either environment. You might have noticed that the prompt here has something in front of it, in my case it's venv in parentheses. The virtual environment we created when we created the project needs to be activated. When you work in PyCharm it does this for you automatically, and you can tell the virtual environment is active because of the display in front of the command prompt. From the command prompt simply type in python then the file you want to run, in this case, it's app.py and press enter. This starts the Flask development web server and you can see after it starts we have a running server bound to a port on local host. That's the manual way to start the server. To stop it press Ctrl + C PyCharm also has a feature called Run Configurations that allow PyCharm to work more like most IDEs you might have used in the past like Visual Studio, Eclipse, or Xcode. Now PyCharm is already set up to Run Configuration for us.
* I can see it up here where it says planetary-api, but I want to make sure you know how to make these yourself. So lets go ahead and click the down arrow here, and select Edit Configurations and we'll add our own. I'll click the plus sign over here I'll select Flask_server and I'll give it a nice descriptive name like Run API Project. Next I need to set what I want this Run Configuration to do. In this case I just want it to run a script. So I'm going to change the Target type to Script path and then I'm just going to browse to the app.py file. And that's it ill click Apply and then okay. I can now run this Run Configuration with it selected here, by clicking the green arrow right next to it. Like before I'm going to see a Terminal window down here and it's going to say that it's running on local host port 5000. Its worth mentioning that the fine folks at JetBrains choose red to be one of the default colors of text for dark themes, I always use to freak out when I'd hit run because I'd get all this red text. But in this case that's fine and normal. Like before we can see our app is running on local host port 5000.
* So at this point, we have executed two different requests to two different endpoints. Let's switch back over to PyCharm and take a look at the window down at the bottom. Note that I can see the requests that have been executed against this server. I can tell the verb that was used. I can tell the route that was used. What version of HTP it's working with, in this case it's 1.1. And I can see the status code at the end. 200, which means okay. Everything worked just fine. If there were problems with the request, you'd see them in Postman, but you'll also see them here in the run window.
### Restarting Server
*  As we edit the file in our project, naturally we'll be switching between PyCharm and Postman quite often. And in order to see your changes, you'd need to restart your server. That's actually pretty easy. I left my server running in the last video. Let's make a quick change to the text returned by our super_simple function. I'll come into Line 13, and I'll just add some text to the end. I'll say boo yah. I'll go ahead and hit Control S to save it, and I'll switch back over to Postman, and I'll click the send button, since it already has the super_simple URL in it already. And you'll note that we don't see the extra text here. That's because in order to see it, we really need to reload our server. I'll switch back over to PyCharm, and I'll show you that PyCharm has a very convenient way of restarting your server. Just come down to the Run window, and you'll see that there's a Restart button, located right above the Stop button. So I'll go ahead and click this, and I can see that the server restarted. Let me switch back over to Postman, and I'll send the request again. And now I can see by boo yah text. As convenient as that is, it's not ideal. If you've ever worked with Node.JS, you've undoubtedly been spoiled by the Node servers that use libraries like Nodemon to automatically reload the app whenever anything changes. Flask has this capability as well. Flask is based on another library called Werkzeug. Werkzeug is the source of our development server and it supports auto reloading whenever it detects a particular environment variable in your system. Environment variables are just variables that you can set in the operating system and they can be different on any server. This is a great way to store configuration information like database connection strings, API keys, and anything else you don't really want in your code. Let's switch back over to PyCharm, and let's tweak the settings in our project. I'll go ahead and stop the running server, and I'll go into the Run configuration again. So I'll come up here, select Edit Configurations, and you can see towards the middle here, that we have some options for environment variables. Now you can set environment variables wholesale down here in the Environment variables section, but the ones that we need are actually presets in PyCharm. So the first one is FLASK_ENV. What environment type are we running here? It defaults to development, which is perfect because this is a development server. The second is FLASK_DEBUG. This is just a boolean, and you can turn it on and off using the little checkbox. So I'm going to turn this on, and I'll click apply, and then I'll click OK. When you check that box, you turned on Debug mode in Werkzeug. When you run your app, the app will then lazily reload whenever it detects changes in the Python code files. Let's give it a try. I'll go ahead and start my server back up again. I'll switch back over to Postman, and I'll click Send. And I can still see that the boo yah is here. I'll switch back over to PyCharm, and I'll take the boo yah text out. I'll save my work, and now it's going to lazily reload whenever it detects that change. And I can see it restart there. Let me switch back over to Postman to test it.